* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: #0d1117; color: #e6edf3; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; padding: 1rem 1.25rem 3rem; max-width: 1400px; margin: 0 auto; }
h1 { font-size: 1.5rem; margin-bottom: 0.2rem; }
.subtitle { color: #8b949e; margin-bottom: 1.25rem; font-size: 0.85rem; }
.subtitle a { color: #58a6ff; text-decoration: none; }
.filters { margin-bottom: 1rem; display: flex; flex-wrap: wrap; gap: 0.4rem; align-items: center; }
.filter-label { color: #8b949e; font-size: 0.8rem; margin-right: 0.2rem; }
.filter-btn { background: #21262d; border: 1px solid #30363d; color: #e6edf3; padding: 0.25rem 0.65rem; border-radius: 1rem; cursor: pointer; font-size: 0.75rem; transition: all 0.15s; text-transform: capitalize; }
.filter-btn:hover { border-color: #58a6ff; }
.filter-btn.active { background: #1f6feb; border-color: #1f6feb; }
.filter-sep { width: 1px; height: 1.4rem; background: #30363d; margin: 0 0.2rem; }
.count { color: #8b949e; font-size: 0.8rem; margin-bottom: 1rem; }
.back-link { display: inline-block; margin-bottom: 0.75rem; color: #58a6ff; text-decoration: none; font-size: 0.8rem; }

/* Grid */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr)); gap: 0.75rem; }

/* Card */
.nade-card { background: #161b22; border: 1px solid #21262d; border-radius: 0.5rem; overflow: hidden; cursor: pointer; transition: border-color 0.15s, transform 0.15s; position: relative; }
.nade-card:hover { border-color: #30363d; transform: translateY(-2px); }
.nade-card.hidden { display: none; }
.nade-card.bookmarked-card { order: -1; }
.card-img { width: 100%; aspect-ratio: 16/9; object-fit: cover; display: block; }
.card-video { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 0; z-index: 1; }
.card-overlay { position: absolute; top: 0.4rem; left: 0.4rem; display: flex; gap: 0.25rem; z-index: 2; }
.card-label { padding: 0.5rem 0.6rem; }
.card-title { display: block; font-size: 0.8rem; font-weight: 600; line-height: 1.3; color: #f0f6fc; }
.card-tech { font-size: 0.7rem; color: #8b949e; display: inline-flex; align-items: center; gap: 0; }
.tag { display: inline-block; font-size: 0.65rem; padding: 0.1rem 0.4rem; border-radius: 0.75rem; background: rgba(33,38,45,0.85); color: #8b949e; backdrop-filter: blur(4px); text-transform: capitalize; }
.side-t { background: rgba(61,31,0,0.85); color: #f0883e; }
.side-ct { background: rgba(12,45,107,0.85); color: #58a6ff; }

/* Modal */
.modal-bg { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 100; align-items: center; justify-content: center; padding: 1rem; }
.modal-bg.open { display: flex; }
.modal { background: #161b22; border: 1px solid #30363d; border-radius: 0.75rem; max-width: 1300px; width: 100%; max-height: 95vh; overflow-y: auto; position: relative; }
.modal-close { position: absolute; top: 0.75rem; right: 0.75rem; background: none; border: none; color: #8b949e; font-size: 1.5rem; cursor: pointer; z-index: 2; line-height: 1; padding: 0.25rem; }
.modal-close:hover { color: #e6edf3; }
.modal-head { padding: 1.25rem 1.25rem 0.75rem; }
.modal-head h2 { font-size: 1.15rem; margin-bottom: 0.4rem; }
.modal-tags { display: flex; gap: 0.3rem; flex-wrap: wrap; }
.modal-tags .tag { font-size: 0.7rem; padding: 0.15rem 0.5rem; }
.modal-frames { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; padding: 0 1.25rem; }
.modal-frame img { width: 100%; border-radius: 0.35rem; cursor: pointer; }
.modal-frame img:hover { opacity: 0.85; }
#m-res-video { width: 100%; border-radius: 0.35rem; cursor: pointer; }
#m-res-video:hover { opacity: 0.85; }
.modal-frame p { font-size: 0.75rem; color: #8b949e; margin-top: 0.3rem; text-align: center; line-height: 1.3; }
.modal-foot { padding: 0.75rem 1.25rem 1.25rem; display: flex; flex-wrap: wrap; gap: 0.5rem; align-items: center; justify-content: space-between; position: relative; }
/* Collapsed setpos */
.setpos-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  background: #21262d;
  border: 1px solid #30363d;
  color: #8b949e;
  padding: 0.3rem 0.6rem;
  border-radius: 0.25rem;
  cursor: pointer;
  font-size: 0.7rem;
  font-family: monospace;
  transition: all 0.15s;
}
.setpos-btn:hover { color: #e6edf3; border-color: #58a6ff; }
.source-link { font-size: 0.75rem; color: #58a6ff; text-decoration: none; white-space: nowrap; }
@media (max-width: 600px) {
  .modal-frames { grid-template-columns: 1fr; }
  .modal { border-radius: 0; max-height: 100vh; }
}

/* Technique icons */
.tech-icon { display: inline-flex; align-items: center; vertical-align: middle; flex-shrink: 0; }
.tech-icon svg { width: 1em; height: 1em; }
.tech-icon-sm { font-size: 14px; margin-right: 0.2rem; }
.tech-icon-md { font-size: 18px; margin-right: 0.35rem; }
.tech-icon-lg { font-size: 22px; margin-right: 0.15rem; }
.card-tech-text { font-size: 0.7rem; color: #8b949e; }

/* Community badge */
.community-badge { display: inline-flex; align-items: center; gap: 0.2rem; color: #a78bfa; font-size: 0.65rem; }
.community-badge svg { width: 12px; height: 12px; }
.card-tech .community-badge { margin-left: 0.35rem; }
.modal-tags .community-badge { background: rgba(99,66,198,0.2); color: #a78bfa; }
.modal-tags .community-badge svg { width: 14px; height: 14px; }

/* Technique badges (decomposed) */
.technique-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin-top: 0.3rem;
}
.technique-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.85rem;
  font-weight: 600;
  padding: 0.3rem 0.7rem;
  border-radius: 0.5rem;
  background: #21262d;
  color: #e6edf3;
}

/* Identity bar */
.identity-bar { margin-bottom: 0.5rem; }
.login-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 200; display: flex; align-items: center; justify-content: center; }
.login-box { background: #161b22; border: 1px solid #30363d; border-radius: 0.75rem; padding: 1.5rem; max-width: 360px; width: 90%; }
.login-box h3 { font-size: 1rem; margin-bottom: 0.25rem; }
.login-box input { width: 100%; padding: 0.5rem; background: #0d1117; border: 1px solid #30363d; border-radius: 0.25rem; color: #e6edf3; font-size: 0.9rem; margin-top: 0.5rem; }
.login-box input:focus { outline: none; border-color: #58a6ff; }

/* Report buttons */
.report-btns {
  display: flex;
  gap: 0.25rem;
  justify-content: center;
  margin-top: 0.25rem;
  opacity: 0.4;
  transition: opacity 0.15s;
}
.report-btns:hover { opacity: 1; }
.report-btn {
  background: #21262d;
  border: 1px solid #30363d;
  color: #8b949e;
  padding: 0.15rem 0.4rem;
  border-radius: 0.25rem;
  cursor: pointer;
  font-size: 0.7rem;
}
.report-btn:hover { border-color: #58a6ff; color: #e6edf3; }
.report-btn.reported { background: #1f6feb; border-color: #1f6feb; color: #fff; pointer-events: none; }

/* Report lineup button */
.report-lineup-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  background: none;
  border: 1px solid #30363d;
  color: #8b949e;
  padding: 0.3rem 0.6rem;
  border-radius: 0.25rem;
  cursor: pointer;
  font-size: 0.7rem;
  transition: all 0.15s;
}
.report-lineup-btn:hover { border-color: #f85149; color: #f85149; }
.report-lineup-btn.reported { color: #f85149; border-color: #f85149; pointer-events: none; }
.lineup-report-dropdown { position: absolute; bottom: 3.5rem; right: 1.25rem; background: #161b22; border: 1px solid #30363d; border-radius: 0.5rem; flex-direction: column; gap: 0.25rem; padding: 0.5rem; z-index: 10; }
.lineup-report-dropdown button { background: none; border: none; color: #e6edf3; padding: 0.35rem 0.75rem; border-radius: 0.25rem; cursor: pointer; font-size: 0.8rem; text-align: left; white-space: nowrap; }
.lineup-report-dropdown button:hover { background: #21262d; }

/* Bookmarks */
.bookmark-btn { position: absolute; top: 0.4rem; right: 0.4rem; background: rgba(33,38,45,0.85); border: 1px solid transparent; color: #8b949e; padding: 0.25rem; border-radius: 0.5rem; cursor: pointer; z-index: 2; backdrop-filter: blur(4px); transition: all 0.15s; line-height: 1; display: flex; align-items: center; justify-content: center; }
.bookmark-btn:hover { color: #f87171; border-color: #f87171; }
.bookmark-btn.bookmarked { color: #f87171; }
.bookmark-btn.bookmarked svg { fill: currentColor; }
.bookmark-btn .tech-icon { display: flex; }
.bookmark-btn .tech-icon svg { width: 16px; height: 16px; }

/* Generic hidden */
.hidden { display: none; }

/* Submit page */
.submit-form-container {
  max-width: 600px;
  margin: 2rem auto;
}
.submit-mode-toggle {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}
.mode-btn {
  flex: 1;
  padding: 0.75rem;
  background: #161b22;
  border: 1px solid #30363d;
  color: #8b949e;
  border-radius: 0.5rem;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.15s;
}
.mode-btn.active {
  background: #1f6feb;
  border-color: #1f6feb;
  color: #fff;
}
.form-section label {
  display: block;
  margin: 1rem 0 0.25rem;
  color: #e6edf3;
  font-size: 0.85rem;
}
.form-section input[type="url"],
.form-section input[type="text"],
.form-section select {
  width: 100%;
  padding: 0.5rem;
  background: #0d1117;
  border: 1px solid #30363d;
  border-radius: 0.375rem;
  color: #e6edf3;
  font-size: 0.9rem;
}
.form-section input[type="file"] {
  color: #8b949e;
  font-size: 0.85rem;
}
.submit-btn {
  margin-top: 1.5rem;
  width: 100%;
  padding: 0.75rem;
  background: #238636;
  border: 1px solid #238636;
  border-radius: 0.5rem;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.15s;
}
.submit-btn:hover { background: #2ea043; }
.submit-status { margin-top: 0.75rem; font-size: 0.85rem; text-align: center; }
.submit-status.success { color: #3fb950; }
.submit-status.error { color: #f85149; }

/* Submit link */
.submit-link {
  display: inline-block;
  margin-bottom: 1rem;
  color: #58a6ff;
  text-decoration: none;
  font-size: 0.85rem;
}
.submit-link:hover { text-decoration: underline; }
